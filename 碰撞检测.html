<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>碰撞检测.html</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#box1{
			width: 100px;
			height: 100px;
			background-color: red;
			position: absolute;
			left: 0px;
			top:0px;
		}
		#box2{
			width: 300px;
			height: 300px;
			background-color: skyblue;
			position: absolute;
			top: 200px;
			left:300px;
		}
	</style>
</head>
<body>
	<div id="box1"></div>
	<div id="box2"></div>
</body>
<script>
	
	var oBox1 = document.getElementById('box1');
	var oBox2 = document.getElementById('box2');

	oBox1.onmousedown = function(ev){
		var oX = ev.clientX - oBox1.offsetLeft;
		var oY = ev.clientY - oBox1.offsetTop;
		document.onmousemove = function(ev){
			var oLeft = ev.clientX - oX;
			var oTop = ev.clientY - oY
			oBox1.style.left = oLeft + 'px';
			oBox1.style.top = oTop + 'px';

			if((oBox1.offsetLeft-oBox2.offsetLeft)<oBox2.offsetWidth &&
				(oBox1.offsetTop-oBox2.offsetTop)<oBox2.offsetHeight &&
				(oBox2.offsetLeft-oBox1.offsetLeft)<oBox1.offsetWidth &&
				(oBox2.offsetTop - oBox1.offsetTop)<oBox1.offsetHeight
				){
				oBox2.style.backgroundColor = 'pink'
			}else{
				oBox2.style.backgroundColor = 'skyblue';
			}
			
		}

	}
	document.onmouseup = function(){
		document.onmousemove = null;
	}


</script>
</html>